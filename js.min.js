var fs = require("fs");
var UglifyJS = require("uglify-js");


var mikan_js_src_root = "htdocs/js/";
var mikan_js_min_root = "htdocs/js/";

var jss = new Array(
	"mikan.js",
	'mikan.const.js',
	'mikan.resource.js',
	'mikan.util.js',
	'mikan.html.js',
	'mikan.css.js',
	'mikan.dialog.js',
	'mikan.page.js',
	'mikan.form.js',
	'mikan.json.js',
	'mikan.tree.js'
);


var f ="var MIKAN_JS_MIN=true;";
var _jss = [];
for(js in jss) {
	_jss.push(mikan_js_src_root + jss[js]);
}
var files = UglifyJS.minify(_jss);
console.log(files.code);

var outputFile = fs.createWriteStream(mikan_js_min_root + "mikan.min.js");

// o—Í
outputFile.write(f+ files.code);



